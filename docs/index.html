<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>cpp4r documentation ‚Ä¢ cpp4r</title><link rel="stylesheet" href="menu.css"><link rel="stylesheet" href="content.css"><!-- MathJax Configuration --><script>
    window.MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['\\[', '\\]'], ['$$', '$$']],
        processEscapes: true,
        processEnvironments: true,
        packages: {'[+]': ['ams', 'newcommand', 'configmacros']}
      },
      options: {
        ignoreHtmlClass: 'tex2jax_ignore',
        processHtmlClass: 'tex2jax_process'
      }
    };
  </script><script id="MathJax-script" async src="js/tex-svg.js"></script></head><body>
<div class="main-container">
<div id="menu">
  <div>
    <img src="man/figures/logo.svg" align="center" height="139" alt="cpp4r logo"></div>

  <div class="search-container">
    <input type="text" id="search-box" placeholder="Search..."></div>

  <div class="search-container">
    <button id="theme-toggle" title="Toggle dark mode" aria-label="Toggle dark mode">Toggle theme</button>
    <button id="font-decrease" title="Decrease font size" aria-label="Decrease font size">A-</button>
    <button id="font-increase" title="Increase font size" aria-label="Increase font size">A+</button>
  </div>

  <div class="submenu">
    <label style="border-bottom: 0;"><a style="padding-left: 0;" href="index.html">Home üè†</a></label>
  </div>

  <div class="submenu">
    <label>Functions</label>
    <a href="reference/register.html">register</a>
    <a href="reference/pkg_template.html">pkg_template</a>
    <a href="reference/unvendor.html">unvendor</a>
    <a href="reference/vendor.html">vendor</a>
  </div>

  <div class="submenu">
    <label>Vignettes</label>
    <a href="vignettes/01-motivations.html">01 - Motivations for cpp4r</a>
    <a href="vignettes/02-setup.html">02 - Setup</a>
    <a href="vignettes/03-package-skeleton.html">03 - Package Skeleton</a>
    <a href="vignettes/04-read-only.html">04 - Read-only versus Writable R Objects</a>
    <a href="vignettes/05-logical-functions.html">05 - Logical Functions</a>
    <a href="vignettes/06-rolling-functions.html">06 - Rolling Functions</a>
    <a href="vignettes/07-statistical-functions.html">07 - Statistical Functions</a>
    <a href="vignettes/08-logical-functions-2.html">08 - Logical Functions with Missing Values</a>
    <a href="vignettes/09-rolling-functions-2.html">09 - Rolling Functions with Missing Values</a>
    <a href="vignettes/10-statistical-functions-2.html">10 - Statistical Functions with Missing Values</a>
    <a href="vignettes/11-debugging.html">11 - Debugging R Packages</a>
    <a href="vignettes/12-external-pointers.html">12 - External Pointers</a>
    <a href="vignettes/13-compiler-optimization.html">13 - Compiler Optimizations</a>
    <a href="vignettes/14-linear-algebra.html">14 - Linear Algebra</a>
    <a href="vignettes/15-internals.html">15 - Internals</a>
    <a href="vignettes/16-FAQ.html">17 - FAQs</a>
    <a href="vignettes/17-worked-examples.html">16 - Worked Examples</a>
  </div>

  <div class="submenu">
    <label>News</label>
    <a href="news/index.html">Changelog</a>
  </div>
</div>
<div id="content">
<div class="content-wrapper">
        <div class="content-main">



<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="cpp4r" class="section level1">
<h1>cpp4r</h1>
<!-- badges: start -->
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a>
<a href="https://github.com/pachadotdev/cpp4r/actions/workflows/R-CMD-check.yaml"><img src="https://github.com/pachadotdev/cpp4r/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a>
<a href="https://CRAN.R-project.org/package=cpp4r"><img src="https://www.r-pkg.org/badges/version/cpp4r" alt="CRAN status"></a>
<a href="https://github.com/pachadotdev/cpp4r/actions/workflows/test-coverage.yaml"><img src="https://raw.githubusercontent.com/pachadotdev/cpp4r/coverage/badges/coverage.svg" alt="Test coverage"></a>
<a href="https://buymeacoffee.com/pacha"><img src="https://raw.githubusercontent.com/pachadotdev/buymeacoffee-badges/main/bmc-yellow.svg" alt="BuyMeACoffee"></a>
<!-- badges: end --></p>
<p>cpp4r helps you to interact with R objects using C++ code. It is a fork
of the <a href="https://cran.r-project.org/package=cpp11">cpp11</a> package with
identical syntax and similar goals.</p>
<p>‚ö†Ô∏èImportant‚ö†Ô∏è: cpp4r was created to ease writing functions in your own
packages and does not offer on-the-fly compilation for code snippets.</p>
<p>cpp4r can be used as a replacement for cpp11 in existing or new
packages. Think of cpp11 and cpp4r as MySQL and MariaDB: they are almost
identical, but cpp4r has some extra features.</p>
<p>After discussing some <a href="https://github.com/pachadotdev/cpp11/pulls/pachadotdev">pull
requests</a> with
Hadley Wickham from Posit, it was mentioned that I should create my own
fork to add the following features:</p>
<ul class="task-list"><li><label><input type="checkbox" checked>Convert ordered and unordered C++ maps to R lists.</label></li>
<li><label><input type="checkbox" checked>Roxygen support on C++ side.</label></li>
<li><label><input type="checkbox" checked>Allow <code>dimnames</code> attribute with matrices on C++ side.</label></li>
<li><label><input type="checkbox" checked>Support nullable <code>external_ptr&lt;&gt;</code>.</label></li>
<li><label><input type="checkbox" checked>Use values added to a vector with <code>push_back()</code> immediately.</label></li>
<li><label><input type="checkbox" checked>Support bidirectional passing of complex numbers/vectors.</label></li>
<li><label><input type="checkbox" checked>Provide flexibility with data types (e.g., cpp4r‚Äôs <code>as_integers()</code>
and <code>as_doubles()</code> accept logical inputs while cpp11‚Äôs do not).</label></li>
<li><label><input type="checkbox" checked>Some internal optimizations for better speed (e.g.,
<a href="https://github.com/r-lib/cpp11/pull/463" class="uri">https://github.com/r-lib/cpp11/pull/463</a> and
<a href="https://github.com/r-lib/cpp11/pull/430" class="uri">https://github.com/r-lib/cpp11/pull/430</a>).</label></li>
</ul><div id="getting-started" class="section level2">
<h2>Getting started</h2>
<p>Check the <a href="https://cpp4r.org/">documentation</a> to get started using cpp4r
in your scripts, particularly if you are new to C++ programming.</p>
<p>You can install cpp4r from CRAN:</p>
<pre class="r"><code>install.packages("cpp4r", repos = "https://cloud.r-project.org")</code></pre>
<p>Or the development version from GitHub:</p>
<pre class="r"><code>install.packages("remotes")
remotes::install_github("pachadotdev/cpp4r")</code></pre>
</div>
<div id="using-cpp4r-in-a-package" class="section level2">
<h2>Using cpp4r in a package</h2>
<p>Create a new package with <code>cpp4r::pkg_template("~/path/to/mypkg")</code> and
then edit the generated files.</p>
<p>To add cpp4r to an existing package, put your C++ files in the <code>src/</code>
directory and add the following to your DESCRIPTION file:</p>
<pre><code>LinkingTo: cpp4r</code></pre>
<p>Then add a roxygen header, for example, to <code>R/mypkg-package.R</code>:</p>
<pre class="r"><code>#' @useDynLib mypkg, .registration = TRUE
#' @keywords internal
"_PACKAGE"</code></pre>
<p>Then decorate C++ functions you want to expose to R with
<code>[[cpp4r::register]]</code>.</p>
<p>cpp4r is a header only library with no hard dependencies and does not
use a shared library. It is straightforward and reliable to use in
packages without fear of compile-time and run-time mismatches.</p>
</div>
<div id="vendoring" class="section level2">
<h2>Vendoring</h2>
<p>You can <a href="https://cpp4r.org/articles/01-motivations.html">vendor</a> the
current installed version of cpp4r headers into your package with
<code>cpp4r::vendor()</code>.</p>
<p>The
<a href="https://github.com/pachadotdev/cpp4r/tree/main/cpp4rtest">cpp4rvendor</a>
package shows an example of vendoring cpp4r headers.</p>
<p>Vendoring ensures the headers will remain unchanged until you explicitly
update them. The advantage is that your package will not break if there
are breaking changes in future versions of cpp4r. The disadvantage is
that you will not get bug fixes and new features unless you update the
vendored headers.</p>
</div>
<div id="getting-help" class="section level2">
<h2>Getting help</h2>
<p>Please open an issue or email me. I will do my best to respond before 48
hours.</p>
</div>
<div id="contributing" class="section level2">
<h2>Contributing</h2>
<p>Contributions are welcome! Please see the <a href="https://cpp4r.org/articles/15-internals.html">internals
vignette</a> for details
about design choices and coding style.</p>
</div>
<div id="code-of-conduct" class="section level2">
<h2>Code of Conduct</h2>
<p>Please note that the cpp4r project is released with a <a href="https://cpp4r.org/CODE_OF_CONDUCT.html">Contributor Code
of Conduct</a>. By contributing to
this project, you agree to abide by its terms.</p>
</div>
</div>
        </div>
        <footer><p id="last-updated">Loading...</p>
</footer><script src="js/footer.js"></script><script src="js/theme.js"></script><script src="js/search.js"></script><script src="js/fontsize.js"></script></div>
</div>
</div>
</body></html>

